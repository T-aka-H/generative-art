# Aurora

**インタラクティブ・ジェネレーティブ・オーロラ**

p5.js で描かれた、画面を埋め尽くす四角いドットが時刻とともに色を変え、オーロラのように揺らめくジェネレーティブアート。Waves シリーズ第2弾。操作しなくても色彩は自律的に漂い続け、タッチやマウスで色の波紋が広がります。

**Live Demo:** https://t-aka-h.github.io/generative-art/aurora/

---

## アート性について

### コンセプト: 「揺らぐモザイク」

このアートは、**デジタルのピクセルそのものを造形表現として用いる**というコンセプトで作られています。画面を埋め尽くす四角いドットのひとつひとつが独立した色を持ち、それらが集合体として大きな色の帯——オーロラのカーテンを形成します。ドットの粒感とオーロラの滑らかさの共存が、デジタルでしか生まれない独自の美しさを生み出しています。

### ドメインワーピング: オーロラの揺らめき

このアートの視覚的な核心は **ドメインワーピング（Domain Warping）** という技法です。

通常の Perlin ノイズで色を塗ると、雲や霧のような自然な模様は得られますが、オーロラのような大きく揺れ動くカーテン状の形状にはなりません。ドメインワーピングは「ノイズの入力座標をノイズで歪ませる」という再帰的な手法です。つまり、各ドットの色を決める前に、まずそのドットの「仮想的な位置」をノイズで大きくずらしてしまいます。

この歪みにより、近くにあるドットでも仮想空間では遠く離れた位置を参照することがあり、結果として色の境界が大きくうねり、折り重なり、カーテンのように波打ちます。歪みの量と方向も時間とともに変化するため、オーロラが空を漂うような有機的な動きが自然に生まれます。

### パレット補間: 無限の色彩遷移

8 色のカラーパレットから色を選ぶ際、隣接する色の間を滑らかに補間しています。さらにその上に 3 層の色相ゆらぎ——大域的なうねり（±50）、中域の揺らぎ（±30）、超低周波のドリフト（±20）——を重ねることで、パレットの 8 色からは想像できないほど豊かな色彩のグラデーションが現れます。

### 時間と色彩

12 の時刻テーマが 2 時間ごとに滑らかに遷移します。真夜中の深いインディゴ、夜明けのローズ、昼間のプリズム光、夕暮れの琥珀。現実の時間がそのままアートの色調に溶け込み、同じ時刻でもドメインワーピングの揺らぎにより二度と同じ模様は現れません。

| 時間帯 | テーマ名 | 色調 |
|--------|----------|------|
| 0:00 | Midnight Indigo | 深い紺・紫 |
| 2:00 | Violet Dream | 紫・マゼンタ |
| 4:00 | Rose Dawn | ローズ・暁 |
| 6:00 | Golden Light | 金・暖色 |
| 8:00 | Emerald Morning | 緑・エメラルド |
| 10:00 | Crystal Teal | ティール・青緑 |
| 12:00 | White Prism | 白・プリズム光 |
| 14:00 | Sky Lavender | 空色・ラベンダー |
| 16:00 | Warm Salmon | サーモン・暖色 |
| 18:00 | Amber Dusk | 琥珀・夕暮れ |
| 20:00 | Aurora Green | オーロラグリーン |
| 22:00 | Night Veil | 夜の帳 |

### 星のレイヤー

600 個の星がモザイクの上で瞬きます。各星は Perlin ノイズで明滅し、時刻テーマの色に微かに染まります。オーロラの背景に浮かぶ星空が、宇宙的なスケール感を添えています。

### 音の生成

環境音もすべてコードで生成しています。Web Audio API でピンクノイズ（バンドパスフィルタで風の音に変換）とブラウンノイズ（ローパスフィルタで低いドリフト音に変換）を合成。遠くの風のような持続音が、視覚のゆらぎと呼応します。

---

## 操作方法

操作しなくてもオーロラは自律的に漂い続けます。操作はその流れに介入する手段です。

### デスクトップ

| 操作 | 効果 |
|------|------|
| マウス移動 | 色模様の流れる方向 |
| クリック | 色の波紋が広がる |
| クリック（上端） | 時間帯を 2 時間進める |
| ダブルクリック（上端） | 実時刻に戻す |

### スマートフォン

| 操作 | 効果 |
|------|------|
| タッチ | 色の波紋が広がる |
| スワイプ | 色模様に突風を送る |
| 長押し | 押した場所に色が集中する |
| ピンチ（広げる/つまむ） | ノイズのスケールを変える |
| 端末を振る | 全体が明るく光る |
| 端末の傾き | 色模様の流れる方向 |
| コンパス方向 | 色模様の漂流方向 |
| 上端タップ | 時間帯を 2 時間進める |
| 上端ダブルタップ | 実時刻に戻す |

---

## セットアップ

### ブラウザで開く

https://t-aka-h.github.io/generative-art/aurora/ にアクセスするだけで動作します。

### iPhone でフルスクリーン体験

1. Safari で上記 URL を開く
2. 共有ボタン（箱から矢印のアイコン）をタップ
3. 「ホーム画面に追加」を選択
4. ホーム画面から「Aurora」アイコンで起動

ホーム画面から起動すると、アドレスバーやタブのない全画面表示になります。横向き（ランドスケープ）推奨。

---

## 技術構成

| 技術 | 用途 |
|------|------|
| [p5.js](https://p5js.org/) | Canvas 描画・ノイズ生成 |
| Perlin Noise | 色彩の有機的なゆらぎ |
| Domain Warping | オーロラのカーテン状の歪み |
| Pixel Buffer | loadPixels/updatePixels による高速描画 |
| HSB→RGB 変換 | ピクセル配列への直接書き込み |
| Web Audio API | 環境音（ピンクノイズ風 + ブラウンノイズドリフト） |
| DeviceOrientationEvent | 傾き・コンパス検知 |
| DeviceMotionEvent | シェイク検知 |

### ファイル構成

```
aurora/
  index.html   - HTML / CSS / スタンドアロンモード制御
  sketch.js    - p5.js メインスケッチ（描画・操作・音声）
  README.md    - このファイル
```

---

## ライセンス

MIT
